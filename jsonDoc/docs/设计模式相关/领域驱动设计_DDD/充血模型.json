{"fileName":"充血模型.md","dirList":["docs","设计模式相关","领域驱动设计_DDD"],"name":"充血模型","createTime":1679414070481.5027,"modifyTime":1679414071939.4648,"data":"\n# 充血模型和贫血模型\n\n例如小明同学，他有一些状态：姓名, 身高，体重，爱好之类，也有一些行为：学习，打游戏，上班。\n\n在贫血模型中，这个人的状态和行为是被拆分的。\n\n```ts\n  interface IPeople {\n    name: string;\n    height: number;\n    weight: number;\n    hobby: string;\n  }\n\n  interface IPeopleWayMethods {\n    playGame: (people: IPeople, gameName: string) => void;\n    work: (people: IPeople, companyName: string) => void;\n    study: (people: IPeople, courseName: string) => void;\n    selfIntroduction: (people: IPeople) => void;\n  }\n\n  const people: IPeople = {\n    name: '小明',\n    height: 170,\n    weight: 60,\n    hobby: '游戏'\n  }\n\n  const peopleWayMethods: IPeopleWayMethods = {\n    playGame: (people: IPeople, gameName: string) => {\n      console.log(`${people.name}去打${gameName}游戏！${people.hobby === '游戏'? '心情变好了。': '心情变差了。'}`);\n    },\n    work: (people: IPeople, companyName: string) => {\n      console.log(`${people.name}去打${companyName}上班。`);\n    },\n    study: (people: IPeople, courseName: string) => {\n      console.log(`${people.name}去学习了${courseName}课程。`);\n    },\n    selfIntroduction: (people: IPeople) => {\n      console.log(`我叫${people.name}，我爱${people.hobby}，身高${people.height}cm，体重${people.weight}kg.`);\n    }\n  };\n\n  peopleWayMethods.playGame(people, '王者荣耀'); // 小明去打王者荣耀游戏！心情变好了。\n  peopleWayMethods.study(people, 'vue'); // 小明去学习了vue课程。\n  peopleWayMethods.work(people, '麻豆'); // 小明去麻豆上班。\n  peopleWayMethods.selfIntroduction(people); // 我叫小明，我爱游戏，身高170cm，体重60kg.\n```\n\n而在充血模型中，这个人的状态和行为是在一起的。\n\n```ts\n  interface IPeople {\n    states: {\n      name: string,\n      height: number;\n      weight: number;\n      hobby: string;\n    },\n    ways: {\n      playGame: (gameName: string) => void;\n      work: (companyName: string) => void;\n      study: (courseName: string) => void;\n      selfIntroduction: () => void;\n    }\n  }\n\n  const usePeople = (name: string, { height, weight, hobby }): IPeople => {\n\n    const playGame = (gameName: string) => {\n      console.log(`${name}去打${gameName}游戏${hobby === '游戏'? '心情变好了。': '心情变差了。'}`);\n    };\n    const work = (companyName: string) => {\n      console.log(`${name}去打${companyName}上班。`);\n    };\n    const study = (courseName: string) => {\n      console.log(`${name}去学习了${courseName}课程。`);\n    };\n    const selfIntroduction = () => {\n      console.log(`我叫${name}，我爱${hobby}，身高${height}cm，体重${weight}kg.`);\n    }\n\n    return {\n      states: {\n        name,\n        height,\n        weight,\n        hobby\n      },\n      ways: {\n        playGame,\n        work,\n        study,\n        selfIntroduction\n      }\n    }\n  }\n\n  const people = usePeople('小明', { height: 170, weight: 60, hobby: '游戏' });\n\n  people.ways.playGame('王者荣耀'); // 小明去打王者荣耀游戏！心情变好了。\n  people.ways.study('vue'); // 小明去学习了vue课程。\n  people.ways.work('麻豆'); // 小明去麻豆上班。\n  people.ways.selfIntroduction(); // 我叫小明，我爱游戏，身高170cm，体重60kg.\n```\n\n可以看到在贫血模型中，小明需要有一个`IPeopleWayMethods`去管理小明的行为，小明作为一个`People`竟然没有管理自己行为的权利！震惊.jpg\n\n而在充血模型中，People中不仅包含了状态state，还包含了行为ways。\n"}